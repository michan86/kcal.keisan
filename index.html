<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>基礎代謝＆摂取カロリー計算</title>
  <style>
    body { font-family: sans-serif; max-width: 600px; margin: 2rem auto; padding: 1rem; }
    h1 { font-size: 1.4rem; margin-bottom: 1rem; }
    label { display: block; margin-top: 0.8rem; }
    input, select, button {
      width: 100%; padding: 0.5rem; margin-top: 0.3rem;
      border: 1px solid #ccc; border-radius: 6px;
    }
    button { background: #007bff; color: #fff; border: none; cursor: pointer; margin-top: 1rem; }
    button:hover { background: #0056b3; }
    .result { margin-top: 1.5rem; padding: 1rem; background: #f9f9f9; border-radius: 6px; }
  </style>
</head>
<body>
  <h1>基礎代謝＆摂取カロリー計算</h1>

  <label>性別</label>
  <select id="gender">
    <option value="male">男性</option>
    <option value="female">女性</option>
  </select>

  <label>年齢</label>
  <input type="number" id="age" placeholder="歳">

  <label>身長 (cm)</label>
  <input type="number" id="height" placeholder="cm">

  <label>体重 (kg)</label>
  <input type="number" id="weight" placeholder="kg">

  <label>活動量</label>
  <select id="activity">
    <option value="1.5">低（基礎代謝 × 1.5）</option>
    <option value="1.75">中（基礎代謝 × 1.75）</option>
    <option value="2">高（基礎代謝 × 2）</option>
  </select>

  <label>目標</label>
  <select id="goal">
    <option value="maintain">維持（基礎代謝 × 活動量）</option>
    <option value="diet">減量（基礎代謝 + 500kcal）</option>
  </select>

  <button onclick="calc()">計算する</button>

  <div class="result" id="result"></div>

  <script>
    function calc() {
      const gender = document.getElementById("gender").value;
      const age = parseFloat(document.getElementById("age").value);
      const height = parseFloat(document.getElementById("height").value);
      const weight = parseFloat(document.getElementById("weight").value);
      const activity = parseFloat(document.getElementById("activity").value);
      const goal = document.getElementById("goal").value;

      if (isNaN(age) || isNaN(height) || isNaN(weight)) {
        document.getElementById("result").innerHTML = "<p>すべての項目を入力してください。</p>";
        return;
      }

      // Mifflin-St Jeor方程式で基礎代謝を計算
      let bmr;
      if (gender === "male") {
        bmr = 10 * weight + 6.25 * height - 5 * age + 5;
      } else {
        bmr = 10 * weight + 6.25 * height - 5 * age - 161;
      }

      let targetCalories;
      if (goal === "maintain") {
        targetCalories = bmr * activity;   // 維持は基礎代謝×活動量
      } else if (goal === "diet") {
        targetCalories = bmr + 500;        // 減量は基礎代謝+500
      }

      document.getElementById("result").innerHTML =
        `<p>基礎代謝量: <strong>${Math.round(bmr)} kcal</strong></p>
         <p>目標摂取カロリー: <strong>${Math.round(targetCalories)} kcal</strong></p>`;
    }
  </script>
</body>
</html>
